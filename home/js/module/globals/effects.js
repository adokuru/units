define(["jquery","gsap"],function(e){function i(e){e.forEach(function(e){var i=e.target,n=e.boundingClientRect.y,t=e.intersectionRatio,s=e.isIntersecting;void 0===i.previousY&&(i.previousY=n,i.previousRatio=t,n+e.boundingClientRect.height<0||n>o?i.isVisible=!1:(i.isVisible=!0,i.isAnimating||a(i)));var r=i.previousY,c=i.previousRatio;n<r?t>c&&s&&(i.isAnimating||i.isVisible||a(i)):n>r&&s&&(t<c||i.isAnimating||a(i)),i.previousY=n,i.previousRatio=t})}function n(e){e.isAnimating=!1;var i=e.getBoundingClientRect().y;(i+e.getBoundingClientRect().height<0||i>o)&&(e.animParams.once||gsap.set(e,{autoAlpha:.01}),e.isVisible=!1)}function t(e){e.forEach(function(e){var i=e.target,n=i.getBoundingClientRect().y;(n+e.boundingClientRect.height<0||n>o)&&(i.tween&&i.tween.kill(),i.isAnimating=!1,i.isVisible=!1,i.animParams.once&&i.animatedOnce||gsap.set(i,{autoAlpha:.01}))})}function a(e){if(!e.animParams.once||!e.animatedOnce){var i={duration:e.animParams.duration,x:0,y:0,autoAlpha:1,ease:e.animParams.ease+"."+e.animParams.easeType,onComplete:function(){n(e)}};if("reveal"==e.animParams.effect)"right"==e.animParams.effectAlt?gsap.set(e,{x:300}):"left"==e.animParams.effectAlt?gsap.set(e,{x:-300}):gsap.set(e,{y:100});else if("zoom"==e.animParams.effect){var t=e.animParams.effectAlt/100;gsap.set(e,{scaleX:t,scaleY:t}),i.scaleX=1,i.scaleY=1}e.tween=gsap.to(e,i),e.isAnimating=!0,e.isVisible=!0,e.animatedOnce=!0}}function s(e){var i={effect:"fadeIn",effectAlt:"",duration:2,ease:"none",easeType:"out",once:!1},n=["none","power1","power2","power3","power4","back","elastic","bounce","circ","expo","sine"];return e.classList.forEach(function(e){if(e.startsWith("effect-")){var t=e.split("-");if(!t[1])return;switch(t[1]){case"duration":if(t[2]){var a=parseFloat(t[2]);isNaN(a)||(i.duration=a/1e3)}break;case"ease":t[2]&&-1!==n.indexOf(t[2])&&(i.ease=t[2],t[3]&&-1!==["in","inOut","out"].indexOf(t[3])&&(i.easeType=t[3]));break;case"once":i.once=!0;break;case"reveal":i.effect="reveal",t[2]&&-1!==["left","right"].indexOf(t[2])&&(i.effectAlt=t[2]);break;case"zoom":if(i.effect="zoom",i.effectAlt=0,t[2]){var s=parseInt(t[2]);isNaN(s)||(s<0&&(s=0),s>100&&(s=100),i.effectAlt=s)}}}}),i}if(!("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype))return!1;var r=window,o=r.innerHeight;const c=new IntersectionObserver(i,{rootMargin:"0px 0px -100px 0px"}),f=new IntersectionObserver(t);e(function(){document.querySelectorAll(".effect").forEach(function(e){e.isAnimating=!1,e.isVisible=!1,e.animParams=s(e),c.observe(e),f.observe(e)})}),r.addEventListener("resize",function(){o=r.innerHeight})});